@import './starforged-font.css'; // HACK to avoid import error
@import '../mixins.less';
@import '../override-vars.less';

.system-foundry-ironsworn.theme-starforged {
  --font-primary: 'Carrois Gothic SC', sans-serif;

  @themeLightHue: 185;
  @themeLightSaturation: 70%;
  @themeLightLightness: 55%;
  @themeDarkHue: @themeLightHue;
  @themeDarkSaturation: 0%;
  @themeDarkLightness: 0%;

  // FIXME: muted fg + alt bg should meet WCAG contrast

  --ironsworn-color-light: hsl(
    @themeLightHue,
    @themeLightSaturation,
    @themeLightLightness
  );
  --ironsworn-color-dark: hsl(
    @themeDarkHue,
    @themeDarkSaturation,
    @themeDarkLightness
  );
  --ironsworn-color-accent: hsl(230, 100%, 65%);
  --ironsworn-color-accent-alt: hsl(200, 100%, 50%);

  --ironsworn-color-light-muted: fade(
    $--ironsworn-color-light,
    // $--ironsworn-color-dark,
    70%
  );
  --ironsworn-color-light-vivid: lighten(
    saturate($--ironsworn-color-light, 20%, relative),
    50%,
    relative
  );

  --ironsworn-color-dark-alt: mix(
    $--ironsworn-color-light-muted,
    $--ironsworn-color-dark,
    40%
  );
  --ironsworn-color-dark-vivid: mix(
    $--ironsworn-color-light,
    $--ironsworn-color-dark,
    60%
  );

  --ironsworn-color-dark-overlay-weak: fade($--ironsworn-color-dark, 15%);
  --ironsworn-color-dark-overlay-strong: fade($--ironsworn-color-dark, 50%);
  --ironsworn-color-light-overlay-weak: fade($--ironsworn-color-light, 15%);
  --ironsworn-color-light-overlay-strong: fade($--ironsworn-color-light, 50%);

  --ironsworn-color-fg: var(--ironsworn-color-light);
  --ironsworn-color-fg-muted: var(--ironsworn-color-light-muted);
  --ironsworn-color-fg-highlight: var(--ironsworn-color-light-vivid);
  --ironsworn-color-fg-overlay-strong: var(
    --ironsworn-color-light-overlay-strong
  );

  --ironsworn-color-border-highlight: var(--ironsworn-color-fg-highlight);
  --ironsworn-color-border: var(--ironsworn-color-fg-muted);
  --ironsworn-color-border-muted: var(--ironsworn-color-dark-alt);

  --ironsworn-color-bg: var(--ironsworn-color-dark);
  --ironsworn-color-bg-alt: var(--ironsworn-color-dark-alt);
  --ironsworn-color-bg-highlight: var(--ironsworn-color-dark-vivid);

  --ironsworn-color-bg-overlay-weak: var(--ironsworn-color-dark-overlay-weak);
  --ironsworn-color-bg-overlay-strong: var(
    --ironsworn-color-dark-overlay-strong
  );

  --ironsworn-widget-fill-opacity-hover: 0.5;
  --ironsworn-color-widget-stroke-width: 1;
  --ironsworn-color-widget-stroke: var(--ironsworn-color-fg);

  --ironsworn-color-input-bg: var(--ironsworn-color-light-overlay-weak);

  --ironsworn-color-text-outline: $--ironsworn-color-dark;

  // --ironsworn-color-input-bg: ;

  // see clickable.less for usage
  --ironsworn-color-clickable-text: var(--ironsworn-color-fg);
  --ironsworn-color-clickable-text-hover: var(--ironsworn-color-fg-highlight);
  --ironsworn-color-clickable-text-selected: var(
    --ironsworn-color-fg-highlight
  );

  --ironsworn-color-clickable-block-fg: var(--ironsworn-color-fg-muted);
  --ironsworn-color-clickable-block-bg: var(--ironsworn-color-bg);
  --ironsworn-color-clickable-block-border: var(--ironsworn-color-border);

  --ironsworn-color-clickable-block-fg-selected: var(
    --ironsworn-color-fg-highlight
  );
  --ironsworn-color-clickable-block-bg-selected: var(
    --ironsworn-color-thematic,
    var(--ironsworn-color-bg-highlight)
  );
  --ironsworn-color-clickable-block-border-selected: var(
    --ironsworn-color-fg-highlight
  );

  --ironsworn-color-clickable-block-fg-hover: var(
    --ironsworn-color-fg-highlight
  );

  --ironsworn-color-clickable-block-bg-hover: var(--ironsworn-color-bg-alt);
  --ironsworn-color-clickable-block-border-hover: var(
    --ironsworn-color-fg-highlight
  );

  --ironsworn-color-legacy-quests: var(--ironsworn-color-red-dark);
  --ironsworn-color-legacy-quests-muted: var(--ironsworn-color-red-dark-muted);
  --ironsworn-color-legacy-bonds: var(--ironsworn-color-purple-dark);
  --ironsworn-color-legacy-bonds-muted: var(
    --ironsworn-color-purple-dark-muted
  );
  --ironsworn-color-legacy-discoveries: var(--ironsworn-color-blue-dark);
  --ironsworn-color-legacy-discoveries-muted: var(
    --ironsworn-color-blue-dark-muted
  );

  --ironsworn-color-danger: hsl(0, 80%, 50%);
  --ironsworn-color-success: hsl(290, 80%, 50%);
  --ironsworn-color-success-faded: hsl(290, 80%, 60%);

  --ironsworn-dice-background: mix(
    $--ironsworn-color-light,
    $--ironsworn-color-dark,
    20%
  );

  --path-hexagon: polygon(0 25%, 50% 0, 100% 25%, 100% 75%, 50% 100%, 0 75%);

  .overrideVars();

  ::-webkit-scrollbar-thumb {
    background: var(--ironsworn-color-bg-alt);
    border-color: var(--ironsworn-color-border-muted);
  }

  .window-app,
  .journal-entry .journal-entry-content {
    background: initial;
    background-color: var(--ironsworn-color-bg);
    border-width: 1px;
    border-style: solid;
  }

  .inline-roll {
    background: var(--ironsworn-color-bg-alt);
    border-color: var(--ironsworn-color-border-muted);

    &:hover {
      text-shadow: 0 0 8px var(--ironsworn-color-fg-highlight);
    }
  }

  .window-content {
    background: var(--ironsworn-color-bg);
    background-image: none;
    color: var(--ironsworn-color-fg);
  }

  .sheet-area {
    border-color: var(--ironsworn-color-border-muted);
  }
  svg {
    color: var(--ironsworn-color-fg);
  }
  .clickable:not(svg):not(.svg) {
    &.hover,
    &:hover,
    &:focus {
      &.block {
        .textStrokeMixin();
      }
      &.text:not(.block) {
        box-shadow: none;
      }
    }
    &.selected,
    &[aria-selected='true'] {
      &.block {
        .textStrokeMixin();
      }
    }
  }

  .drag-highlight {
    background: var(--ironsworn-color-bg-highlight);
  }

  .movesheet-row.highlighted {
    background-color: var(--ironsworn-color-bg-highlight);
  }

  .asset-ironsworn .asset-ability:before {
    border-width: 1px;
    border-style: solid;
  }
  .asset-starforged .asset-ability:before {
    background-color: var(--ironsworn-color-fg);
    border-width: 1px;
    border-style: solid;
  }

  table {
    border-color: var(--ironsworn-color-border-muted);
  }

  #chat-controls {
    .roll-type-select {
      background-color: var(--ironsworn-color-light-overlay);
    }
  }
}
