// typography mixins

.initial-caps {
  &::first-letter {
    text-transform: uppercase;
  }
}

// special effects

// used to mark focused fields. a few FVTT buttons/tabs use it as a hover effect, too.
.borderGlowExteriorMixin(@spread:10px) {
  border-color: var(--color-border-highlight-alt);
  border-bottom-color: var(--color-border-highlight);
  box-shadow: 0 0 @spread var(--color-shadow-highlight);
  // FIXME: adjust these specific transition properties to make gaining focus feel a bit snappier
}

// used inside block/tab like elements. it's inset so that both the focus effect and the hover effect can be visible at once.
.borderGlowInteriorMixin(@spread:5px,@blur:0,@color:var(--color-shadow-primary)) {
  box-shadow: inset 0 0 @spread @blur @color;
}

.borderGlowInteriorMixinStrong(@spread:10px,@blur:0,@color:var(--color-shadow-primary)) {
  box-shadow: inset 0 0 @spread @blur @color, inset 0 0 @spread @blur @color;
}

.textGlowMixin(@color:var(--ironsworn-color-fg-highlight),@spread:10px) {
  text-shadow: 0 0 @spread @color;
}

// used for e.g. hover effects. resembles a transparent overlay (with a subtle gradient) without having to do any interpolation or set additional variables.
.overlayGlowMixin(@blockSize:20px, @color:var(--ironsworn-color-clickable-block-bg-selected)) {
  .borderGlowInteriorMixin((@blockSize / 2),0,@color);
}

// applies thematic colours to some hover/selection effects.
.thematicHoverMixin(@color:var(--ironsworn-color-thematic)) {
  --ironsworn-color-clickable-block-bg-selected: @color;
  .textStrokeMixin();
}

// applies a background of the theme colour, and strokes the text to ensure contrast.
.thematicBgMixin(@thematicColor, @fgColor:var(--ironsworn-color-light)) {
  background-color: @thematicColor;
  color: @fgColor;
  .textStrokeMixin();
}

.svgWidgetMixin() {
  stroke: var(--ironsworn-color-widget-stroke);
  fill: var(--ironsworn-color-clickable-block-bg-selected);
}

// until this chromium issue with paint-order is resolved, text-stroke is functionally useless: https://bugs.chromium.org/p/chromium/issues/detail?id=815111
// yes, i am bitter, because even safari has supported it for ~4 years at this point :)
// in the mean time, we can fake a 1px solid outside stroke by stacking text-shadow or drop-shadow filters. be cautious with overusing it; they're not blurred, so the computational cost isn't *too* bad, but that's still 6x as many shadows as we want to be drawing.
// if you wanted this + a soft shadow, just append the other shadow with a separator.
// generated with owumaro.github.io/text-stroke-generator/
.textStrokeMixin(@color: var(--ironsworn-color-text-outline)) {
  text-shadow: 1px 0px 0px @color, 0.540302px 0.841471px 0px @color,
    -0.416147px 0.909297px 0px @color, -0.989993px 0.14112px 0px @color,
    -0.653644px -0.756803px 0px @color, 0.283662px -0.958924px 0px @color,
    0.96017px -0.279416px 0px @color;
}

.borderFloatingMixin {
  border-style: outset;
  border-color: var(--ironsworn-color-border-muted);
}
